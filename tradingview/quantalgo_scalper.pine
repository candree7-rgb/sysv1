// This Pine Scriptâ„¢ code is subject to the terms of the Mozilla Public License 2.0
// Automated Scalping Signals with TP & SL - SMC Edition
// FVG + Order Block Detection | MTF Bias Filter | Performance Dashboard
// Optimized for Crypto Altcoins on 5min-15min charts
//@version=6
strategy("SMC Scalper Pro", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=10, initial_capital=10000, commission_type=strategy.commission.percent, commission_value=0.06, slippage=1, calc_on_every_tick=false, process_orders_on_close=true, margin_long=10, margin_short=10)

//=============================================================================
// INPUTS - Timeframe Settings
//=============================================================================
grp_tf = "Timeframe Settings"
i_bias_mult     = input.int(3, "Bias TF Multiplier", minval=2, maxval=10, group=grp_tf, tooltip="Multiplier for higher timeframe bias (e.g., 3 = 15min bias on 5min chart)")
i_poi_mult      = input.int(1, "POI TF Multiplier", minval=1, maxval=5, group=grp_tf, tooltip="Multiplier for POI detection timeframe")

//=============================================================================
// INPUTS - Bias Settings (MTF EMA Crossover)
//=============================================================================
grp_bias = "Bias Settings"
i_ema_fast      = input.int(21, "Fast EMA Period", minval=5, maxval=50, group=grp_bias)
i_ema_slow      = input.int(50, "Slow EMA Period", minval=20, maxval=200, group=grp_bias)
i_require_bias  = input.bool(true, "Require Bias Confirmation", group=grp_bias, tooltip="Only take trades aligned with bias direction")

//=============================================================================
// INPUTS - POI Settings (FVG + Order Blocks)
//=============================================================================
grp_poi = "POI Settings"
i_use_fvg       = input.bool(true, "Use Fair Value Gaps (FVG)", group=grp_poi)
i_use_ob        = input.bool(true, "Use Order Blocks (OB)", group=grp_poi)
i_fvg_min_size  = input.float(0.1, "Min FVG Size %", minval=0.01, maxval=1.0, step=0.01, group=grp_poi, tooltip="Minimum gap size as % of price")
i_max_poi_age   = input.int(50, "Max POI Age (bars)", minval=10, maxval=200, group=grp_poi)
i_poi_midpoint  = input.bool(true, "Entry at POI Midpoint", group=grp_poi, tooltip="Enter at middle of zone instead of edge")

//=============================================================================
// INPUTS - Risk Management
//=============================================================================
grp_risk = "Risk Management"
i_sl_method     = input.string("POI Edge", "SL Method", options=["POI Edge", "ATR Based", "Fixed %"], group=grp_risk)
i_sl_buffer     = input.float(0.1, "SL Buffer %", minval=0.0, maxval=1.0, step=0.05, group=grp_risk)
i_sl_atr_mult   = input.float(1.5, "SL ATR Multiplier", minval=0.5, maxval=5.0, step=0.5, group=grp_risk)
i_sl_fixed_pct  = input.float(0.5, "SL Fixed %", minval=0.1, maxval=3.0, step=0.1, group=grp_risk)
i_tp_rr         = input.float(1.2, "Take Profit RR", minval=0.5, maxval=5.0, step=0.1, group=grp_risk, tooltip="Risk:Reward ratio for TP")
i_slippage_pts  = input.float(1.1, "Slippage (points)", minval=0, maxval=10, step=0.1, group=grp_risk)

//=============================================================================
// INPUTS - Display Settings
//=============================================================================
grp_display = "Display Settings"
i_show_table    = input.bool(true, "Show Performance Table", group=grp_display)
i_table_pos     = input.string("Top Right", "Table Position", options=["Top Right", "Top Left", "Bottom Right", "Bottom Left", "Middle Right", "Middle Center"], group=grp_display)
i_table_size    = input.string("Normal", "Table Size", options=["Small", "Normal", "Large"], group=grp_display)
i_show_zones    = input.bool(true, "Show POI Zones", group=grp_display)
i_show_labels   = input.bool(true, "Show Trade Labels", group=grp_display)
i_bull_color    = input.color(color.new(#00ff00, 70), "Bullish Zone Color", group=grp_display)
i_bear_color    = input.color(color.new(#ff0000, 70), "Bearish Zone Color", group=grp_display)

//=============================================================================
// TIMEFRAME CALCULATIONS
//=============================================================================
// Get current timeframe in minutes
tfToMinutes() =>
    mult = timeframe.multiplier
    if timeframe.isseconds
        mult / 60
    else if timeframe.isminutes
        mult
    else if timeframe.isdaily
        mult * 1440
    else if timeframe.isweekly
        mult * 10080
    else if timeframe.ismonthly
        mult * 43200
    else
        mult

currentTF = tfToMinutes()
biasTF = currentTF * i_bias_mult
poiTF = currentTF * i_poi_mult

// Convert minutes back to timeframe string
minutesToTF(int mins) =>
    if mins < 60
        str.tostring(mins)
    else if mins < 1440
        str.tostring(mins / 60) + "H"
    else
        str.tostring(mins / 1440) + "D"

biasTFStr = minutesToTF(int(biasTF))
poiTFStr = minutesToTF(int(poiTF))

//=============================================================================
// MTF BIAS DETECTION (EMA Crossover)
//=============================================================================
// Get EMAs from bias timeframe
[bias_ema_fast, bias_ema_slow] = request.security(syminfo.tickerid, biasTFStr, [ta.ema(close, i_ema_fast), ta.ema(close, i_ema_slow)], lookahead=barmerge.lookahead_off)

// Determine bias direction
var string bias_direction = "Sideways"
if bias_ema_fast > bias_ema_slow
    bias_direction := "BULLISH"
else if bias_ema_fast < bias_ema_slow
    bias_direction := "BEARISH"
else
    bias_direction := "Sideways"

// Check if bias allows trade
biasAllowsLong() => not i_require_bias or bias_direction == "BULLISH"
biasAllowsShort() => not i_require_bias or bias_direction == "BEARISH"

//=============================================================================
// ATR CALCULATION
//=============================================================================
atr = ta.atr(14)

//=============================================================================
// FAIR VALUE GAP (FVG) DETECTION
//=============================================================================
var array<float> bull_fvg_top = array.new_float(0)
var array<float> bull_fvg_btm = array.new_float(0)
var array<int> bull_fvg_bar = array.new_int(0)

var array<float> bear_fvg_top = array.new_float(0)
var array<float> bear_fvg_btm = array.new_float(0)
var array<int> bear_fvg_bar = array.new_int(0)

if i_use_fvg
    // Bullish FVG: Gap up - low[0] > high[2]
    bull_gap = low > high[2]
    bull_gap_size = (low - high[2]) / close * 100

    if bull_gap and bull_gap_size >= i_fvg_min_size
        array.unshift(bull_fvg_top, low)
        array.unshift(bull_fvg_btm, high[2])
        array.unshift(bull_fvg_bar, bar_index)

        // Limit array size
        if array.size(bull_fvg_top) > 10
            array.pop(bull_fvg_top)
            array.pop(bull_fvg_btm)
            array.pop(bull_fvg_bar)

    // Bearish FVG: Gap down - high[0] < low[2]
    bear_gap = high < low[2]
    bear_gap_size = (low[2] - high) / close * 100

    if bear_gap and bear_gap_size >= i_fvg_min_size
        array.unshift(bear_fvg_top, low[2])
        array.unshift(bear_fvg_btm, high)
        array.unshift(bear_fvg_bar, bar_index)

        // Limit array size
        if array.size(bear_fvg_top) > 10
            array.pop(bear_fvg_top)
            array.pop(bear_fvg_btm)
            array.pop(bear_fvg_bar)

//=============================================================================
// ORDER BLOCK DETECTION
//=============================================================================
var array<float> bull_ob_top = array.new_float(0)
var array<float> bull_ob_btm = array.new_float(0)
var array<int> bull_ob_bar = array.new_int(0)

var array<float> bear_ob_top = array.new_float(0)
var array<float> bear_ob_btm = array.new_float(0)
var array<int> bear_ob_bar = array.new_int(0)

if i_use_ob
    // Bullish OB: Bearish candle followed by strong bullish move
    bullish_ob = close[2] < open[2] and close[1] > open[1] and close > high[2] and (close - low[2]) > atr * 1.5

    if bullish_ob
        array.unshift(bull_ob_top, math.max(open[2], close[2]))
        array.unshift(bull_ob_btm, low[2])
        array.unshift(bull_ob_bar, bar_index - 2)

        if array.size(bull_ob_top) > 10
            array.pop(bull_ob_top)
            array.pop(bull_ob_btm)
            array.pop(bull_ob_bar)

    // Bearish OB: Bullish candle followed by strong bearish move
    bearish_ob = close[2] > open[2] and close[1] < open[1] and close < low[2] and (high[2] - close) > atr * 1.5

    if bearish_ob
        array.unshift(bear_ob_top, high[2])
        array.unshift(bear_ob_btm, math.min(open[2], close[2]))
        array.unshift(bear_ob_bar, bar_index - 2)

        if array.size(bear_ob_top) > 10
            array.pop(bear_ob_top)
            array.pop(bear_ob_btm)
            array.pop(bear_ob_bar)

//=============================================================================
// POI ENTRY DETECTION
//=============================================================================
var float entry_price = na
var float sl_price = na
var float tp_price = na
var bool is_long = false
var int entry_bar = na

// Function to find valid bullish POI
findBullishPOI() =>
    found = false
    poi_top = 0.0
    poi_btm = 0.0
    poi_bar = 0

    // Check FVGs first
    if i_use_fvg and array.size(bull_fvg_top) > 0
        for i = 0 to math.min(array.size(bull_fvg_top) - 1, 9)
            top = array.get(bull_fvg_top, i)
            btm = array.get(bull_fvg_btm, i)
            bar = array.get(bull_fvg_bar, i)
            age = bar_index - bar

            // Price enters zone from above
            if age <= i_max_poi_age and low <= top and close > btm and not found
                poi_top := top
                poi_btm := btm
                poi_bar := bar
                found := true
                break

    // Check OBs if no FVG found
    if not found and i_use_ob and array.size(bull_ob_top) > 0
        for i = 0 to math.min(array.size(bull_ob_top) - 1, 9)
            top = array.get(bull_ob_top, i)
            btm = array.get(bull_ob_btm, i)
            bar = array.get(bull_ob_bar, i)
            age = bar_index - bar

            if age <= i_max_poi_age and low <= top and close > btm and not found
                poi_top := top
                poi_btm := btm
                poi_bar := bar
                found := true
                break

    [found, poi_top, poi_btm, poi_bar]

// Function to find valid bearish POI
findBearishPOI() =>
    found = false
    poi_top = 0.0
    poi_btm = 0.0
    poi_bar = 0

    // Check FVGs first
    if i_use_fvg and array.size(bear_fvg_top) > 0
        for i = 0 to math.min(array.size(bear_fvg_top) - 1, 9)
            top = array.get(bear_fvg_top, i)
            btm = array.get(bear_fvg_btm, i)
            bar = array.get(bear_fvg_bar, i)
            age = bar_index - bar

            // Price enters zone from below
            if age <= i_max_poi_age and high >= btm and close < top and not found
                poi_top := top
                poi_btm := btm
                poi_bar := bar
                found := true
                break

    // Check OBs if no FVG found
    if not found and i_use_ob and array.size(bear_ob_top) > 0
        for i = 0 to math.min(array.size(bear_ob_top) - 1, 9)
            top = array.get(bear_ob_top, i)
            btm = array.get(bear_ob_btm, i)
            bar = array.get(bear_ob_bar, i)
            age = bar_index - bar

            if age <= i_max_poi_age and high >= btm and close < top and not found
                poi_top := top
                poi_btm := btm
                poi_bar := bar
                found := true
                break

    [found, poi_top, poi_btm, poi_bar]

//=============================================================================
// CALCULATE SL BASED ON METHOD
//=============================================================================
calcSL(float entry, float poi_edge, bool long_trade) =>
    sl = 0.0
    if i_sl_method == "POI Edge"
        buffer = entry * (i_sl_buffer / 100)
        sl := long_trade ? poi_edge - buffer : poi_edge + buffer
    else if i_sl_method == "ATR Based"
        sl := long_trade ? entry - (atr * i_sl_atr_mult) : entry + (atr * i_sl_atr_mult)
    else // Fixed %
        sl := long_trade ? entry * (1 - i_sl_fixed_pct / 100) : entry * (1 + i_sl_fixed_pct / 100)
    sl

//=============================================================================
// ENTRY SIGNALS
//=============================================================================
[bull_poi_found, bull_poi_top, bull_poi_btm, bull_poi_bar] = findBullishPOI()
[bear_poi_found, bear_poi_top, bear_poi_btm, bear_poi_bar] = findBearishPOI()

// Long entry condition
long_signal = bull_poi_found and biasAllowsLong() and strategy.position_size == 0
short_signal = bear_poi_found and biasAllowsShort() and strategy.position_size == 0

if long_signal
    entry_price := i_poi_midpoint ? (bull_poi_top + bull_poi_btm) / 2 : bull_poi_top
    sl_price := calcSL(entry_price, bull_poi_btm, true)
    sl_dist = entry_price - sl_price
    tp_price := entry_price + (sl_dist * i_tp_rr)
    is_long := true
    entry_bar := bar_index

    strategy.entry("Long", strategy.long)

if short_signal
    entry_price := i_poi_midpoint ? (bear_poi_top + bear_poi_btm) / 2 : bear_poi_btm
    sl_price := calcSL(entry_price, bear_poi_top, false)
    sl_dist = sl_price - entry_price
    tp_price := entry_price - (sl_dist * i_tp_rr)
    is_long := false
    entry_bar := bar_index

    strategy.entry("Short", strategy.short)

//=============================================================================
// EXIT MANAGEMENT
//=============================================================================
if strategy.position_size > 0
    strategy.exit("Exit Long", "Long", limit=tp_price, stop=sl_price)

if strategy.position_size < 0
    strategy.exit("Exit Short", "Short", limit=tp_price, stop=sl_price)

// Reset on position close
if strategy.position_size == 0 and strategy.position_size[1] != 0
    entry_price := na
    sl_price := na
    tp_price := na

//=============================================================================
// PERFORMANCE TRACKING
//=============================================================================
var int total_trades = 0
var int wins = 0
var int losses = 0
var float total_r = 0.0
var float total_win_r = 0.0
var float total_loss_r = 0.0
var float max_drawdown = 0.0
var float peak_r = 0.0

// Track closed trades
if strategy.closedtrades > 0
    total_trades := strategy.closedtrades

    // Calculate wins/losses from closed trades
    wins := 0
    losses := 0
    total_r := 0.0
    total_win_r := 0.0
    total_loss_r := 0.0

    for i = 0 to strategy.closedtrades - 1
        pnl = strategy.closedtrades.profit(i)
        entry = strategy.closedtrades.entry_price(i)
        exit_p = strategy.closedtrades.exit_price(i)

        // Calculate R-multiple (simplified)
        if pnl > 0
            wins += 1
            r_mult = pnl / (entry * 0.02)  // Assume 2% risk
            total_win_r += math.min(r_mult, i_tp_rr)  // Cap at TP RR
            total_r += math.min(r_mult, i_tp_rr)
        else if pnl < 0
            losses += 1
            r_mult = pnl / (entry * 0.02)
            total_loss_r += math.max(r_mult, -1.0)  // Cap at -1R
            total_r += math.max(r_mult, -1.0)

    // Track max drawdown
    if total_r > peak_r
        peak_r := total_r
    drawdown = peak_r - total_r
    if drawdown > max_drawdown
        max_drawdown := drawdown

// Calculate metrics
win_rate = total_trades > 0 ? (wins / total_trades) * 100 : 0.0
avg_win_r = wins > 0 ? total_win_r / wins : 0.0
avg_loss_r = losses > 0 ? total_loss_r / losses : 0.0
profit_factor = total_loss_r != 0 ? math.abs(total_win_r / total_loss_r) : 0.0

//=============================================================================
// VISUALS - POI ZONES
//=============================================================================
// Draw FVG zones
if i_show_zones and barstate.islast
    // Bullish FVGs
    if i_use_fvg
        for i = 0 to math.min(array.size(bull_fvg_top) - 1, 4)
            top = array.get(bull_fvg_top, i)
            btm = array.get(bull_fvg_btm, i)
            bar = array.get(bull_fvg_bar, i)
            if bar_index - bar <= i_max_poi_age
                box.new(bar, top, bar_index + 5, btm, border_color=color.new(#00ff00, 50), bgcolor=i_bull_color, xloc=xloc.bar_index)
                label.new(bar_index + 3, (top + btm) / 2, "Bull FVG", color=color.new(#00ff00, 80), textcolor=color.white, size=size.tiny, xloc=xloc.bar_index)

        // Bearish FVGs
        for i = 0 to math.min(array.size(bear_fvg_top) - 1, 4)
            top = array.get(bear_fvg_top, i)
            btm = array.get(bear_fvg_btm, i)
            bar = array.get(bear_fvg_bar, i)
            if bar_index - bar <= i_max_poi_age
                box.new(bar, top, bar_index + 5, btm, border_color=color.new(#ff0000, 50), bgcolor=i_bear_color, xloc=xloc.bar_index)
                label.new(bar_index + 3, (top + btm) / 2, "Bear FVG", color=color.new(#ff0000, 80), textcolor=color.white, size=size.tiny, xloc=xloc.bar_index)

    // Order Blocks
    if i_use_ob
        for i = 0 to math.min(array.size(bull_ob_top) - 1, 4)
            top = array.get(bull_ob_top, i)
            btm = array.get(bull_ob_btm, i)
            bar = array.get(bull_ob_bar, i)
            if bar_index - bar <= i_max_poi_age
                box.new(bar, top, bar_index + 5, btm, border_color=color.new(#00ff00, 30), bgcolor=color.new(#00ff00, 85), xloc=xloc.bar_index)
                label.new(bar_index + 3, (top + btm) / 2, "Bull OB", color=color.new(#00ff00, 80), textcolor=color.white, size=size.tiny, xloc=xloc.bar_index)

        for i = 0 to math.min(array.size(bear_ob_top) - 1, 4)
            top = array.get(bear_ob_top, i)
            btm = array.get(bear_ob_btm, i)
            bar = array.get(bear_ob_bar, i)
            if bar_index - bar <= i_max_poi_age
                box.new(bar, top, bar_index + 5, btm, border_color=color.new(#ff0000, 30), bgcolor=color.new(#ff0000, 85), xloc=xloc.bar_index)
                label.new(bar_index + 3, (top + btm) / 2, "Bear OB", color=color.new(#ff0000, 80), textcolor=color.white, size=size.tiny, xloc=xloc.bar_index)

//=============================================================================
// VISUALS - TRADE LEVELS
//=============================================================================
plot(strategy.position_size != 0 ? entry_price : na, "Entry", color=color.blue, style=plot.style_linebr, linewidth=1)
plot(strategy.position_size != 0 ? tp_price : na, "Take Profit", color=color.green, style=plot.style_linebr, linewidth=2)
plot(strategy.position_size != 0 ? sl_price : na, "Stop Loss", color=color.red, style=plot.style_linebr, linewidth=2)

// Entry signals
plotshape(long_signal, title="Long Signal", location=location.belowbar, color=#00ff00, style=shape.triangleup, size=size.small)
plotshape(short_signal, title="Short Signal", location=location.abovebar, color=#ff0000, style=shape.triangledown, size=size.small)

//=============================================================================
// PERFORMANCE DASHBOARD TABLE
//=============================================================================
var table perfTable = na

if i_show_table
    // Determine table position
    table_position = switch i_table_pos
        "Top Right" => position.top_right
        "Top Left" => position.top_left
        "Bottom Right" => position.bottom_right
        "Bottom Left" => position.bottom_left
        "Middle Right" => position.middle_right
        "Middle Center" => position.middle_center
        => position.top_right

    // Determine table size
    table_text_size = switch i_table_size
        "Small" => size.tiny
        "Normal" => size.small
        "Large" => size.normal
        => size.small

    perfTable := table.new(table_position, 2, 12, bgcolor=color.new(color.black, 30), border_width=1, border_color=color.gray)

    if barstate.islast
        // Header
        table.cell(perfTable, 0, 0, "PERFORMANCE METRICS", text_color=color.white, text_size=table_text_size, bgcolor=color.new(color.gray, 50))
        table.cell(perfTable, 1, 0, "VALUES", text_color=color.white, text_size=table_text_size, bgcolor=color.new(color.gray, 50))

        // Row 1: Bias TF / POI TF
        table.cell(perfTable, 0, 1, "Bias TF / POI TF", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 1, biasTFStr + " / " + poiTFStr, text_color=color.aqua, text_size=table_text_size)

        // Row 2: Bias Direction
        table.cell(perfTable, 0, 2, "Bias Direction", text_color=color.gray, text_size=table_text_size)
        bias_color = bias_direction == "BULLISH" ? color.green : bias_direction == "BEARISH" ? color.red : color.gray
        table.cell(perfTable, 1, 2, bias_direction, text_color=bias_color, text_size=table_text_size)

        // Row 3: Data Processing
        table.cell(perfTable, 0, 3, "Data Processing", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 3, str.tostring(bar_index) + " bars", text_color=color.white, text_size=table_text_size)

        // Row 4: Total Trades
        active_text = strategy.position_size != 0 ? " (+1 Active)" : ""
        table.cell(perfTable, 0, 4, "Total Trades", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 4, str.tostring(total_trades) + active_text, text_color=color.white, text_size=table_text_size)

        // Row 5: Wins / Losses
        table.cell(perfTable, 0, 5, "Wins / Losses", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 5, str.tostring(wins) + " / " + str.tostring(losses), text_color=color.white, text_size=table_text_size)

        // Row 6: Win Rate
        table.cell(perfTable, 0, 6, "Win Rate", text_color=color.gray, text_size=table_text_size)
        wr_color = win_rate >= 55 ? color.green : win_rate >= 45 ? color.yellow : color.red
        table.cell(perfTable, 1, 6, str.tostring(win_rate, "#.#") + "%", text_color=wr_color, text_size=table_text_size)

        // Row 7: Total R-Multiple
        table.cell(perfTable, 0, 7, "Total R-Multiple", text_color=color.gray, text_size=table_text_size)
        r_color = total_r >= 0 ? color.green : color.red
        table.cell(perfTable, 1, 7, str.tostring(total_r, "#.#") + "R", text_color=r_color, text_size=table_text_size)

        // Row 8: Avg R Win / Loss
        table.cell(perfTable, 0, 8, "Avg R Win / Loss", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 8, str.tostring(avg_win_r, "#.#") + " / " + str.tostring(avg_loss_r, "#.#"), text_color=color.white, text_size=table_text_size)

        // Row 9: TP Ratio / Slippage
        table.cell(perfTable, 0, 9, "TP Ratio / Slippage", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 9, str.tostring(i_tp_rr, "#.#") + ":1 / " + str.tostring(i_slippage_pts, "#.#") + "pt", text_color=color.aqua, text_size=table_text_size)

        // Row 10: Profit Factor
        table.cell(perfTable, 0, 10, "Profit Factor", text_color=color.gray, text_size=table_text_size)
        pf_color = profit_factor >= 1.5 ? color.green : profit_factor >= 1.0 ? color.yellow : color.red
        table.cell(perfTable, 1, 10, str.tostring(profit_factor, "#.#"), text_color=pf_color, text_size=table_text_size)

        // Row 11: Max Drawdown
        table.cell(perfTable, 0, 11, "Max Drawdown", text_color=color.gray, text_size=table_text_size)
        table.cell(perfTable, 1, 11, str.tostring(-max_drawdown, "#.#") + "R", text_color=color.red, text_size=table_text_size)

//=============================================================================
// ALERTS
//=============================================================================
alertcondition(long_signal, title="Long Entry", message="SMC Scalper: Long Entry Signal - {{ticker}} @ {{close}}")
alertcondition(short_signal, title="Short Entry", message="SMC Scalper: Short Entry Signal - {{ticker}} @ {{close}}")
alertcondition(bias_direction == "BULLISH" and bias_direction[1] != "BULLISH", title="Bias Bullish", message="SMC Scalper: Bias turned BULLISH on {{ticker}}")
alertcondition(bias_direction == "BEARISH" and bias_direction[1] != "BEARISH", title="Bias Bearish", message="SMC Scalper: Bias turned BEARISH on {{ticker}}")
